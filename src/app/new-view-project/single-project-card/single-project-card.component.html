<!-- <div class="card card-cascade narrower" [ngStyle]="{'border':displayBorder ? '1px solid red': '1px solid black' }">
  <div class="view view-cascade overlay" (click)="singleProjectDetails(project)"
    style="background-color: #e7ebee; box-shadow: none;">
    <img class="img-fluid title_image margin-auto width-80" src="{{path}}{{project.avatar}}" alt="Card image cap"
      onerror="this.src='assets/4.jpeg'">
    <div class="margin-top-10 margin-bottom-10 text-center">
      <h5 class="font-weight-bold card-title">
        {{project.title}}</h5>
    </div>
    <div class="tib">
      <div class="row text-center margin-20">
        <div class="col-4">
          <strong tooltipClass="my-custom-class" ngbTooltip="Task" class="text-center">
            <p><span class="icon-list mr-1"></span></p>
            <p><span class="badge">{{getLength(project, 'Task')}}</span></p>
          </strong>
        </div>
        <div class="col-4">
          <strong tooltipClass="my-custom-class" ngbTooltip="Issue" class="text-center">
            <p><span class="icon-energy mr-1"></span></p>
            <p><span class="badge">{{getLength(project, 'Issue')}}</span></p>
          </strong>
        </div>
        <div class="col-4">
          <strong tooltipClass="my-custom-class" ngbTooltip="Bug" class=" text-center">
            <p><span class="icon-question mr-1"></span></p>
            <p><span class="badge">{{getLength(project, 'Bugg')}}</span></p>
          </strong>
        </div>
      </div>
    </div>
  </div>
  <div class="btn-group dropleft float-right">
    <button type="button" style="border-radius: 50%;" class="btn btn-primary btn-floating btn_popover_menu padding-0"
      data-toggle="dropdown" aria-haspopup="false" aria-expanded="false"><i class="fas fa-ellipsis-v"></i>
    </button>
    <div class="dropdown-menu" style="width: 255px;">
      <a class="dropdown-item btn-floating  mt-0 mx-1"
        *ngIf="currentUser.userRole=='projectManager' || currentUser.userRole=='admin'" tooltipClass="my-custom-class" ngbTooltip="Edit Project"
        (click)="editProject(project)"><span class="icon-pencil padding-top-1"></span></a>
      <a class="dropdown-item btn-floating  mt-0 mx-1" *ngIf="currentUser.userRole=='projectManager'"
        tooltipClass="my-custom-class" ngbTooltip="verifyLogs" (click)="verifyLogs(project)"><span class="fa fa-check padding-top-1"></span></a>
      comment karvani <a class="dropdown-item btn-floating  mt-0 mx-1" *ngIf="currentUser.userRole=='admin'" tooltipClass="my-custom-class" ngbTooltip="Total Logs"
        (click)="totalLogs(project)"><span class="fa fa-check padding-top-1"></span></a>
      <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" tooltipClass="my-custom-class" ngbTooltip="Time Log"
        (click)="displayTimeLog(project)"><span class="icon-clock"></span></a>
      <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" tooltipClass="my-custom-class" ngbTooltip="Discussion"
        routerLink="/discussion/{{project._id}}"><span data-icon="&#xe02c;"></span></a>
      <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" tooltipClass="my-custom-class" ngbTooltip="Files"
        (click)="projectFiles(project._id , project.dataSource[0]._id)"><span class="icon-folder-alt"></span></a>
    </div>
  </div>
  <div class="card-body card-body-cascade margin-bottom-0 text-center" (click)="singleProjectDetails(project)">
    <div class="row m-0">
      <div class="col-12">
        <h5 class="deep-purple-text">
          <span class="fab fa-react">{{project.technology? project.technology: 'No Technology'}}</span>
        </h5>
      </div>
    </div>
    <div class="row">
      <div class="col-12 projectManagerList">
        <ul *ngFor="let proj of project.projectManager">
          <li class="font-weight-bold">
            <div class="user_profile_pic"><img src="{{path}}{{proj.profilePhoto}}" class="img-rounded"
                onerror="this.src='assets/4.jpeg'" routerLink="/visit-user-profile/{{proj._id}}"
                tooltipClass="my-custom-class" ngbTooltip="{{proj.name}}" placement="top" tooltipClass="my-custom-class">
            </div>
          </li>
        </ul>
      </div>
    </div>
    <div class="row m-2">
      <div class="col-12">
        <p class="m-0"><span class="icon-calendar mr-2"></span>
          <span>{{project.createdAt | date}}</span></p>
      </div>
    </div>
    <div class="displayDescription">
      <p class="card-text" style="
      text-overflow: ellipsis ;
      overflow: hidden ;
      white-space: nowrap ">{{project.description}}</p>
    </div>
    <button class="btn btn-default progress_summary" (mouseover)="mouseOver(project)">Progress</button>
    <div class="summary card z-depth-4" *ngIf="hoveredProject">
      <h4 style="color: #3998c5; margin-top: 15px;" class="text-capitalize">{{hoveredProject.title}}</h4>
      <h5 style="color: #948e8e;">Project Progress</h5>
      <div class="form-row pt-1">
        <div class="col-4">
          <button class="btn btn-warning btn-sm m-auto" style="font-size: 12px;">{{getTaskCount('To Do')}}</button>
          <p class="pt-1"><span class="icon-folder-alt"></span> To Do</p>
        </div>
        <div class="col-4">
          <button class="btn btn-info btn-sm m-auto" style="font-size: 12px;">
            {{getTaskCount('In Progress')}}</button>
          <p class="pt-1"><span class="icon-hourglass"></span> In Progress</p>
        </div>
        <div class="col-4">
          <button class="btn btn-indigo btn-sm m-auto" style="display: block;font-size: 12px;">
            {{getTaskCount('Testing')}}</button>
          <p class="pt-1"><span class="icon-settings"></span> Testing</p>
        </div>
      </div>
    </div>
  </div>
</div> -->

<div class="single_project_card" (click)="singleProjectDetails(project)">
  <div class="project_header">
    <div class="project_avatar">
      <img class="img-fluid" src="{{project.avatar}}" alt="Card image cap" onerror="this.src='assets/4.jpeg'">
    </div>
    <div class="project_title">
      <h5>{{project.title}}</h5>
      <p>{{project.technology? project.technology: 'No Technology'}}</p>
    </div>
  </div>
  <div class="project_body">
    <div class="form-row">
      <div class="col-6">
        <div class="summary_list">
          <span>Tasks</span>
          <strong>{{getLength(project, 'Task')}}</strong>
        </div>
        <div class="summary_list">
          <span>Issues</span>
          <strong>{{getLength(project, 'Issue')}}</strong>
        </div>
        <div class="summary_list">
          <span>Bugs</span>
          <strong>{{getLength(project, 'Bugg')}}</strong>
        </div>
      </div>
      <div class="col-6">
        <div class="summary_list">
          <span>To Do</span>
          <strong>{{getTaskCount('To Do')}}</strong>
        </div>
        <div class="summary_list">
          <span>In Process</span>
          <strong>{{getInProcessTasksCount()}}</strong>
        </div>
        <div class="summary_list">
          <span>Done</span>
          <strong>{{getTaskCount('Done')}}</strong>
        </div>
      </div>
    </div>
    <div class="project_team_list">
      <ul class="team_list">
        <li *ngFor="let user of teamList | slice:0:5" tooltipClass="my-custom-class" ngbTooltip="{{user.name}}">
          <img class="img-fluid" src="{{user.profilePhoto ? user.profilePhoto : '../../../assets/default-profile.png' }}" alt="Card image cap">
        </li>
        <li *ngIf="teamList.length > 5" tooltipClass="my-custom-class" ngbTooltip="View More" class="view_all" (click)="expadProjectUsers($event);">
          <i class="fas fa-ellipsis-h"></i>
        </li>
      </ul>
      <div *ngIf="userListToggle" class="full_user_list">
        <ul>
          <li *ngFor="let user of teamList">
            <div class="single_user">
              <img class="img-fluid" src="{{user.profilePhoto ? user.profilePhoto : '../../../assets/default-profile.png' }}" alt="Card image cap">
            </div>
            {{user.name}}
          </li>
        </ul>
      </div>
    </div>
    <div class="project_actions_list">
      <a *ngIf="currentUser.userRole=='admin'" tooltipClass="my-custom-class" ngbTooltip="Edit Project"
        (click)="editProject(project)">
        <i class="fas fa-pen"></i>
      </a>
      <a tooltipClass="my-custom-class" ngbTooltip="Discussion" (click)="addDiscussion(project)"
        routerLink="/discussion/{{project._id}}">
        <i class="fas fa-comments"></i>
      </a>
      <a tooltipClass="my-custom-class" ngbTooltip="Files" (click)="projectFiles(project)">
        <i class="fas fa-folder"></i>
      </a>
      <a *ngIf="currentUser.userRole=='admin'" tooltipClass="my-custom-class" ngbTooltip="Summary"
        (click)="projectSummary(project)">
        <i class="fas fa-chart-pie"></i>
      </a>
      <a *ngIf="currentUser.userRole=='Manager' || currentUser.userRole=='admin'" tooltipClass="my-custom-class"
        ngbTooltip="Verify Logs" (click)="verifyLogs(project)">
        <i class="fas fa-check"></i>
      </a>
      <a tooltipClass="my-custom-class" ngbTooltip="Time Log" (click)="displayTimeLog(project)">
        <i class="fas fa-clock"></i>
      </a>
      <!-- <a tooltipClass="my-custom-class" *ngIf="currentUser.userRole=='admin'" ngbTooltip="Project Logs"
        (click)="singleProjectLogs(project)">
        <i class="fas fa-clipboard-check"></i>
      </a> -->
      <a *ngIf="currentUser.userRole=='admin'" tooltipClass="my-custom-class" ngbTooltip="Manage Flow"
        (click)="projectSettings(project)">
        <i class="fas fa-cog"></i>
      </a>
    </div>
  </div>
  <div class="project_footer">
    <p class="created_date">
      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25">
        <path id="calendar"
          d="M32.6,35.1a1.25,1.25,0,1,0-1.25-1.25A1.25,1.25,0,0,0,32.6,35.1Zm6.25,0a1.25,1.25,0,1,0-1.25-1.25A1.25,1.25,0,0,0,38.85,35.1Zm-6.25,5a1.25,1.25,0,1,0-1.25-1.25A1.25,1.25,0,0,0,32.6,40.1Zm6.25,0a1.25,1.25,0,1,0-1.25-1.25A1.25,1.25,0,0,0,38.85,40.1Zm-12.5-5a1.25,1.25,0,1,0-1.25-1.25A1.25,1.25,0,0,0,26.35,35.1Zm15-12.5H40.1V21.35a1.25,1.25,0,1,0-2.5,0V22.6h-10V21.35a1.25,1.25,0,0,0-2.5,0V22.6H23.85a3.75,3.75,0,0,0-3.75,3.75v15a3.75,3.75,0,0,0,3.75,3.75h17.5a3.75,3.75,0,0,0,3.75-3.75v-15A3.75,3.75,0,0,0,41.35,22.6ZM42.6,41.35a1.25,1.25,0,0,1-1.25,1.25H23.85a1.25,1.25,0,0,1-1.25-1.25V30.1h20Zm0-13.75h-20V26.35a1.25,1.25,0,0,1,1.25-1.25h17.5a1.25,1.25,0,0,1,1.25,1.25ZM26.35,40.1a1.25,1.25,0,1,0-1.25-1.25A1.25,1.25,0,0,0,26.35,40.1Z"
          transform="translate(-20.1 -20.1)" />
      </svg>
      <span>{{project.createdAt | date}}</span>
    </p>
  </div>
</div>

<!-- <mat-card class="single-project-card">
  <div class="card-title-header">
    <div class="project-avatar-box" (click)="singleProjectDetails(project)">
      <img class="img-fluid" src="{{project.avatar}}" alt="Card image cap" onerror="this.src='assets/4.jpeg'">
    </div>
    <div class="title-tech">
      <div class="box-title" (click)="singleProjectDetails(project)">
        <h5>{{project.title}}</h5>
        
        <div class="col-12" [ngClass]="userBorder(project.userRole).class">
          <p>{{project.userRole}}</p>
        </div>
        <p>{{project.createdBy._id == currentUser._id ? "Admin" : null}}</p>
        
        <p>{{ currentUser.userRole }}</p>
        <span>{{project.technology? project.technology: 'No Technology'}}</span>
      </div>
      <div class="project-status">
        <button class="btn progress_summary" (mouseover)="mouseOver(project)" (click)="mouseOver(project)"
          [ngStyle]="{'background-color':displayBorder ? '#f87879': '#777' }"><span class="icon-clock"></span></button>
        <mat-card class="summary" *ngIf="hoveredProject">
          <h5>Project Progress</h5>
          <label>Deadline Date : {{project.deadline | date:'mediumDate'}}</label>
          <div class="form-row text-center">
            <div class="col-4">
              <span class="count">{{getTaskCount('To Do')}}</span>
              <p><span class="icon-folder-alt"></span> To Do</p>
            </div>
            <div class="col-4">
              <span class="count">{{ getInProcessTasksCount() }}</span>
              <p><span class="icon-hourglass"></span> In Progress</p>
            </div>
            <div class="col-4">
              <span class="count">{{getTaskCount('Done')}}</span>
              <p><span class="icon-settings"></span> Done</p>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </div>

  <div class="desc-content" (click)="singleProjectDetails(project)">
    <p>{{project.description}}</p>
    <span [innerHtml]="contentNew"></span>
  </div>

  <div class="task-count" (click)="singleProjectDetails(project)">
    <div class="row">
      <div class="col-8 m-auto">
        <div class="row">
          <div class="col-4">
            <span>{{getLength(project, 'Task')}}</span>
            <p><i class="icon-list mr-1"></i>Tasks</p>
          </div>
          <div class="col-4">
            <span>{{getLength(project, 'Issue')}}</span>
            <p><i class="icon-energy mr-1"></i>Issues</p>
          </div>
          <div class="col-4">
            <span>{{getLength(project, 'Bugg')}}</span>
            <p><i class="icon-question mr-1"></i>Bugs</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12 projectManagerList">
      <ul *ngFor="let proj of project.projectManager">
        <li class="font-weight-bold">
          <div class="user_profile_pic"><img src="{{proj.profilePhoto}}" class="img-rounded"
              onerror="this.src='assets/4.jpeg'" tooltipClass="my-custom-class" ngbTooltip="{{proj.name}}"
              placement="top" tooltipClass="my-custom-class" (click)="displayUserProfile(proj)">
          </div>
        </li>
      </ul>
      <span *ngIf="project.projectManager && !project.projectManager.length" class="noProjectManager">No Project
        Managers Assigned!
      </span>
    </div>
  </div>
  <div class="card-footer-date">
    <div class="created-date" (click)="singleProjectDetails(project)">
      <span class="icon-calendar mr-2"></span>
      <span>{{project.createdAt | date}}</span>
    </div>
    <div class="details-menu">
      <div class="btn-group dropleft">
        <button type="button" style="border-radius: 50%;"
          class="btn btn-primary btn-floating btn_popover_menu padding-0" data-toggle="dropdown" aria-haspopup="false"
          aria-expanded="false"><i class="fas fa-ellipsis-v"></i>
        </button>
        <div class="dropdown-menu" style="width: 255px;">
          <a class="dropdown-item btn-floating  mt-0 mx-1" *ngIf="currentUser.userRole=='admin'"
            tooltipClass="my-custom-class" ngbTooltip="Edit Project" (click)="editProject(project)"><span
              class="icon-pencil padding-top-1"></span></a>
          <a class="dropdown-item btn-floating  mt-0 mx-1"
            *ngIf="currentUser.userRole=='Manager' || currentUser.userRole=='admin'" tooltipClass="my-custom-class"
            ngbTooltip="Verify Logs" (click)="verifyLogs(project)"><span class="fa fa-check padding-top-1"></span></a>
          <a class="dropdown-item btn-floating  mt-0 mx-1" tooltipClass="my-custom-class"
            *ngIf="currentUser.userRole=='admin'" ngbTooltip="Project Logs" (click)="singleProjectLogs(project)"><span
              class="fa fa-check padding-top-1"></span></a>
          <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" tooltipClass="my-custom-class" ngbTooltip="Time Log"
            (click)="displayTimeLog(project)"><span class="icon-clock"></span></a>
          <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" tooltipClass="my-custom-class"
            ngbTooltip="Discussion" (click)="addDiscussion(project)" routerLink="/discussion/{{project._id}}"><span
              data-icon="&#xe02c;"></span></a>
          <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" tooltipClass="my-custom-class" ngbTooltip="Files"
            (click)="projectFiles(project)"><span class="icon-folder-alt"></span></a>
          <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" *ngIf="currentUser.userRole=='admin' "
            tooltipClass="my-custom-class" ngbTooltip="Summary" (click)="projectSummary(project)"><span
              data-icon="&#xe077;"></span></a>
          <a class="dropdown-item btn-floating btn-gplus mt-0 mx-1" *ngIf="currentUser.userRole=='admin' "
            tooltipClass="my-custom-class" ngbTooltip="Manage Project" (click)="projectSettings(project)"><span
              class="icon-settings"></span></a>
        </div>
      </div>
    </div>
  </div>
</mat-card> -->